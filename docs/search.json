[
  {
    "objectID": "articles.html",
    "href": "articles.html",
    "title": "Articles",
    "section": "",
    "text": "The SLR Method"
  },
  {
    "objectID": "articles/introduction-to-slr-model.html",
    "href": "articles/introduction-to-slr-model.html",
    "title": "An Introduction to the SLR Model",
    "section": "",
    "text": "The handwriterRF package implements the statistical method described by Madeline Johnson and Danica Ommen (2021) (doi:10.1002/sam.11566). This tutorial summarizes the method introduced in the paper and explains how to use handwriterRF to compare handwriting samples. The method employs a random forest to produce a score-based likelihood ratio (SLR), quantifying the strength of evidence that two handwritten documents were written by the same writer or different writers."
  },
  {
    "objectID": "articles/introduction-to-slr-model.html#introduction",
    "href": "articles/introduction-to-slr-model.html#introduction",
    "title": "An Introduction to the SLR Model",
    "section": "",
    "text": "The handwriterRF package implements the statistical method described by Madeline Johnson and Danica Ommen (2021) (doi:10.1002/sam.11566). This tutorial summarizes the method introduced in the paper and explains how to use handwriterRF to compare handwriting samples. The method employs a random forest to produce a score-based likelihood ratio (SLR), quantifying the strength of evidence that two handwritten documents were written by the same writer or different writers."
  },
  {
    "objectID": "articles/introduction-to-slr-model.html#handwriting-data",
    "href": "articles/introduction-to-slr-model.html#handwriting-data",
    "title": "An Introduction to the SLR Model",
    "section": "Handwriting Data",
    "text": "Handwriting Data\nWe use handwriting samples from the CSAFE Handwriting Database and the CVL Handwriting Database. These databases contain paragraph-length handwriting samples. We randomly selected two Wizard of Oz prompts and two London Letter prompts from CSAFE writers, and four prompts from CVL writers. These samples were randomly split into three sets: training, validation, and testing."
  },
  {
    "objectID": "articles/introduction-to-slr-model.html#writer-profiles",
    "href": "articles/introduction-to-slr-model.html#writer-profiles",
    "title": "An Introduction to the SLR Model",
    "section": "Writer Profiles",
    "text": "Writer Profiles\nWe estimated the writer profiles for all handwriting samples using the handwriter::get_writer_profiles() function and the templateK40 cluster template from handwriterRF. Behind the scenes, get_writer_profiles() performs the following steps on each handwriting sample:\n\nSplit the handwriting into component shapes called graphs with handwriter::process_batch_dir().\nSort the graphs into clusters with similar shapes using a cluster template and handwriter::get_clusters_batch().\nCalculate the proportion of graphs assigned to each cluster with handwriter::get_cluster_fill_rates(). The cluster fill rates serve as an estimate of the writer profile for the sample.\n\nThe train dataframe contains the estimated writer profiles for train set. Let’s visualize the writer profiles for two writers from train:\n\n\nShow code\nlibrary(dplyr)\nlibrary(handwriter)\nlibrary(handwriterRF)\n\n\n\n\nShow code\nwps &lt;- train %&gt;% dplyr::filter(writer == \"w0003\" | writer == \"w0005\")\n\nhandwriter::plot_writer_profiles(wps, color_by = \"writer\", facets = \"writer\")\n\n\n\n\n\n\n\n\n\nEach writer has four documents in train. We see that for each writer, the profiles are not exactly the same, but many of the spikes and valleys occur in the same clusters. We can plot all the writer profiles on the same axes to better compare the two writers.\n\n\nShow code\nplot_writer_profiles(wps, color_by = \"writer\")\n\n\n\n\n\n\n\n\n\nIn this plot the spikes and valleys are not all aligned. In cluster 37, writer w0003 has a small spike while w0005 has a valley. In cluster 27, writer w0005 has a taller spike that writer w0003. Intuitively, we see similarities and differences between the writer profiles in the plot. But we employ a statistical method to formally evaluate the similarities between writer profiles."
  },
  {
    "objectID": "articles/introduction-to-slr-model.html#constucting-reference-similarity-scores-with-a-random-forest",
    "href": "articles/introduction-to-slr-model.html#constucting-reference-similarity-scores-with-a-random-forest",
    "title": "An Introduction to the SLR Model",
    "section": "Constucting Reference Similarity Scores with a Random Forest",
    "text": "Constucting Reference Similarity Scores with a Random Forest\nTo compare writer profiles, we construct similarity scores that quantify the similarity between pairs of profiles.\n\nTraining a Random Forest\nFirst, we calculate the distances between all pairs of writer profiles in the train set. These pairs are labeled as either same writer or different writers, based on whether the profiles originate from the same writer. We then train a random forest on these labeled distances using the ranger R package. random_forest is the trained random forest.\n\n\nCalculating Reference Similarity Scores\nNext, we calculate the distances between each pair of writer profiles in validation and label the pairs as same writer or different writers. The writers in validation are distinct from those in train. For each pair of writer profiles in validation, the similarity score is the proportion of decision trees in the random forest that predicted same writer. For example, if the random forest has 200 decision trees, and 160 of the trees predicted same writer, the similarity score is \\(160/200=0.8\\).\nref_scores contains the similarity scores for the pairs of validation samples. We downsample the the “different writer” similarity scores to equal the number of “same writer” scores following common practice. We use these similarity scores as reference when comparing test handwriting samples.\nThe function plot_scores() visualizes the reference scores.\n\n\nShow code\nplot_scores(ref_scores)"
  },
  {
    "objectID": "articles/introduction-to-slr-model.html#compare-two-test-handwriting-samples",
    "href": "articles/introduction-to-slr-model.html#compare-two-test-handwriting-samples",
    "title": "An Introduction to the SLR Model",
    "section": "Compare Two Test Handwriting Samples",
    "text": "Compare Two Test Handwriting Samples\nThe test dataframe contains writer profiles from writers not in train or validation. Let’s compare two writer profiles in the test set using the trained random forest and reference similarity scores. We’ll use the first two samples from writer w0005 as an example. First, we plot the writer profiles:\n\n\nShow code\ntest_samples &lt;- test[test$writer == \"w0002\",][1:2,]\n\nhandwriter::plot_writer_profiles(test_samples)\n\n\n\n\n\n\n\n\n\n\nSimilarity Score\nWe compute the similarity score between these two test samples with compare_writer_profiles(). This score is derived using the same procedure as the validation set: we calculate the distance between the two profiles, then compute the proportion of random forest decision trees that predict “same writer.”\n\n\nShow code\nscore &lt;- compare_writer_profiles(test_samples)\n\n\nCalculating distance between samples...\n\n\nCalculating similarity score...\n\n\nShow code\nscore\n\n\n            docname1 writer1           docname2 writer2 ground_truth score\n1 w0002_s03_pLND_r03   w0002 w0002_s02_pLND_r03   w0002  same writer     1\n\n\nLet’s visually see how the similarity score 1 compares to our reference same writer and different writers similarity scores.\n\n\nShow code\nplot_scores(ref_scores, obs_score = score$score)\n\n\n\n\n\n\n\n\n\n\n\nScore-based Likelihood Ratio\nA score-based likelihood ratio (SLR) is a statistical measure that evaluates the likelihood of observing a similarity score under two competing propositions:\n\\(P_1: \\text{the handwriting samples were written by the same writer}\\)\n\\(P_2: \\text{the handwriting samples were written by different writers}\\)\nThe SLR is the ratio of the likelihood of observing the similarity score under \\(P_1\\) to the likelihood under \\(P_2\\). To calculate the SLR, we use compare_writer_profiles() with the score_only = FALSE argument. This function applies kernel density estimation to fit probability density functions (PDFs) to the reference scores for same writer and different writer pairs. The SLR is the ratio of the height of the same writer PDF at the observed similarity score to the height of the different writer PDF at the same score. An SLR greater than 1 suggests the samples were likely written by the same writer, while an SLR less than 1 suggests the samples were likely written by different writers.\n\n\nShow code\nslr &lt;- compare_writer_profiles(test_samples, score_only = FALSE)\n\n\nCalculating distance between samples...\n\n\nCalculating similarity score...\n\n\nCalculating SLR...\n\n\nShow code\nslr\n\n\n            docname1 writer1           docname2 writer2 ground_truth score\n1 w0002_s03_pLND_r03   w0002 w0002_s02_pLND_r03   w0002  same writer     1\n       slr\n1 254.8966"
  },
  {
    "objectID": "contact.html",
    "href": "contact.html",
    "title": "Contact",
    "section": "",
    "text": "Center for Statistics and Applications in Forensic Evidence\n195 Durham Center\n613 Morrill Road\nAmes, Iowa 50011\n(515) 294-7278\ncsafe@iastate.edu"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Welcome",
    "section": "",
    "text": "Unlock the power of handwriting analysis with handwriter. This tool is designed to assist forensic examiners by analyzing handwritten documents. Whether you are a forensic document examiner, legal professional, academic, or simply curious about how statistics are applied to handwriting, handwriter provides an automated way to evaluate handwriting samples."
  },
  {
    "objectID": "quick-start-guide.html",
    "href": "quick-start-guide.html",
    "title": "Quick Start Guide",
    "section": "",
    "text": "Handwriter requires R, RStudio IDE, and JAGS.\n\nInstall R and RStudio from POSIT\nInstall JAGS from SourceForge\nWindows only:\n\nIf you have a 64-bit Intel machine install RTools from the RTools44 installer\nIf you have a 64-bit ARM machine install RTools from the RTools44 ARM installer\n\n\n\n\n\nInstall the handwriterApp R package. Open RStudio and navigate to the console window and type\n\n\nShow code\ninstall.packages(\"handwriter\")\ninstall.packages(\"handwriterRF\")\ninstall.packages(\"handwriterApp\")\n\n\nYou might encounter the following message.\n\nHandwriter uses other R packages. This message asks whether to install the newest versions of the Rcpp, mvtnorm, and curl packages. You will likely see different R packages listed. Type “1” without the quotation marks and hit enter to install all updates."
  },
  {
    "objectID": "quick-start-guide.html#installation",
    "href": "quick-start-guide.html#installation",
    "title": "Quick Start Guide",
    "section": "",
    "text": "Handwriter requires R, RStudio IDE, and JAGS.\n\nInstall R and RStudio from POSIT\nInstall JAGS from SourceForge\nWindows only:\n\nIf you have a 64-bit Intel machine install RTools from the RTools44 installer\nIf you have a 64-bit ARM machine install RTools from the RTools44 ARM installer\n\n\n\n\n\nInstall the handwriterApp R package. Open RStudio and navigate to the console window and type\n\n\nShow code\ninstall.packages(\"handwriter\")\ninstall.packages(\"handwriterRF\")\ninstall.packages(\"handwriterApp\")\n\n\nYou might encounter the following message.\n\nHandwriter uses other R packages. This message asks whether to install the newest versions of the Rcpp, mvtnorm, and curl packages. You will likely see different R packages listed. Type “1” without the quotation marks and hit enter to install all updates."
  },
  {
    "objectID": "quick-start-guide.html#handwriting-samples",
    "href": "quick-start-guide.html#handwriting-samples",
    "title": "Quick Start Guide",
    "section": "Handwriting Samples",
    "text": "Handwriting Samples\nScan your handwriting samples at 300 DPI and save them as PNG files. If you don’t have your own handwriting samples, you can download samples for free from the CSAFE Handwriting Database."
  },
  {
    "objectID": "quick-start-guide.html#launch-the-app",
    "href": "quick-start-guide.html#launch-the-app",
    "title": "Quick Start Guide",
    "section": "Launch the App",
    "text": "Launch the App\nOpen RStudio, navigate to the console window, and type:\n\n\nShow code\nlibrary(handwriterApp)\nlibrary(handwriterRF)\nhandwriterApp()\n\n\nIn the pop-up window, click Open in Browser. If you use the app in the pop-up window instead of in a browser, some links will not work."
  },
  {
    "objectID": "quick-start-guide.html#choose-a-scenario",
    "href": "quick-start-guide.html#choose-a-scenario",
    "title": "Quick Start Guide",
    "section": "Choose a Scenario",
    "text": "Choose a Scenario\nHandwriter addresses two scenarios.\n\n\n\n  \n    SCENARIO 1\n    \n    Compare a questioned document to a single handwritten document.\n    \n    \n    \n    \n    \n    \n    Requirements\n      \n        \n        Questioned Document: from an unknown writer.\n        \n        \n        Comparison Document: from a known or unknown writer.\n        \n      \n    \n    \n    \n    Result: A score-based likelihood ratio that expresses the support of the evidence in favor of the samples having been written by the same writer or different writers.\n    \n  \n\n\n\n  \n    SCENARIO 2\n    \n    \n    Compare a questioned document to a group of known handwriting samples.\n    \n    \n    \n    \n    \n    Requirements\n      \n        \n        Questioned Document: from an unknown writer.\n        \n        \n        Additional Documents: Three known writing samples from each writer in a group of potential writers. The questioned document MUST have been written by someone in this group.\n        \n      \n    \n    \n    \n    Result: The posterior probability that each potential writer wrote the questioned document.\n    \n    \n  \n\n\n\nIn the app, choose the scenario that fits your handwriting samples by clicking the scenario’s button. Follow the instructions to analyze your handwriting samples."
  }
]